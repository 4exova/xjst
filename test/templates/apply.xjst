template(this.type === 'first') {
  var fn = apply;
  return apply(this.type = 'second');
}

template(this.type === 'second') {
  return 'ok';
}

template(this.type === 'third') {
  this.type = 'fourth';
  return apply();
}

template(this.type === 'fourth') {
  return 'ok';
}
